<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="JetenderG">
    <meta name="keywords" content="tic,tac,toe,game,fun">
    <meta name="description" content="This is a regular game of tic tac toe">
    <link type="text/css" rel="stylesheet" href="style.css">
    <title>Tic-Tac-Toe</title>
</head>

<body>
    <div class="title heading">
        <h1>Tic Tac Toe</h1>
    </div>
    <div class="container game-screen">
        <div class="sidebar sidebar-left bar"></div>
        <div class="middleBar gameScreen bar">
            <div class="tic-tac-toe game">
                <div id="box-1" class="box" data-num="1"></div>
                <div id="box-2" class="box" data-num="2"></div>
                <div id="box-3" class="box" data-num="3"></div>
                <div id="box-4" class="box" data-num="4"></div>
                <div id="box-5" class="box" data-num="5"></div>
                <div id="box-6" class="box" data-num="6"></div>
                <div id="box-7" class="box" data-num="7"></div>
                <div id="box-8" class="box" data-num="8"></div>
                <div id="box-9" class="box" data-num="9"></div>
            </div>
        </div>
        <div class="sidebar sidebar-right bar"></div>
    </div>
    <div class="footer"></div>
    <script defer>
        const winningCombos = [
            [1, 2, 3],
            [4, 5, 6],
            [7, 8, 9],
            [1, 4, 7],
            [2, 5, 8],
            [3, 6, 9],
            [1, 5, 9],
            [3, 5, 7]
        ];
        let player_one = {
            name: "playerOne",
            wins: 0,
            turns: [],
            mark: 'x',
            color: 'red'
        }
        let player_two = {
            name: "playerTwo",
            wins: 0,
            turns: [],
            mark: 'o',
            color: 'green'
        }

        function start() {
            let player = player_one

        
            

            function player_change() {
                console.log("This is changed")
                if (player === player_one) {
                    return player = player_two
                } else {
                    return player = player_one
                }
                console.log(player_one.turns, player_two.turns)
            }
            let tick_tac_Outcome = (turns, combo, increment) => {
                let answered = combo;
                for (let i = 0; i < turns.length; i++) {
                    console.log(turns[i])
                    if (answered.length === 1) {
                        if (answered[0].includes(turns[i])) {
                            return console.log("Winner")
                        }
                    } else {
                        answered = answered.filter(element => element.includes(turns[i]))
                    }
                }
            }
            window.document.addEventListener('click', (event) => {
                if (event.target.className === 'box') {
                    if (player_one.turns.indexOf(event.target.dataset.num) === -1 || player.turns.turns.indexOf(
                            event.target.dataset.num) === -1) {
                        player.turns.push(Number(event.target.dataset.num));
                        if (player.turns.length > 2) {
                            tick_tac_Outcome(player.turns.sort(), winningCombos, 0)

                        }
                        player_change();

                    } else {
                        console.log()
                    }
                } 
            })
        }
        start();
    </script>
</body>

</html>